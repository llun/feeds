(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(5075)}])},5075:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(8520),a=n.n(r),s=n(5893),u=n(7294),c=n(1163),i=n(5371),o=n(850),l=n(5090),f=n(8217),h=n(8688),d=n(2461);function v(e,t,n,r,a,s,u){try{var c=e[s](u),i=c.value}catch(o){return void n(o)}c.done?t(i):Promise.resolve(i).then(r,a)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,s=void 0;try{for(var u,c=e[Symbol.iterator]();!(r=(u=c.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(i){a=!0,s=i}finally{try{r||null==c.return||c.return()}finally{if(a)throw s}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function x(){var e=(0,u.useState)("loading"),t=e[0],n=e[1],r=(0,u.useState)("categories"),x=r[0],w=r[1],m=(0,u.useState)([]),y=m[0],_=m[1],g=(0,u.useState)([]),P=g[0],b=g[1],E=(0,u.useState)(null),N=E[0],S=E[1],j=(0,c.useRouter)();return(0,u.useEffect)((function(){var e;(e=a().mark((function e(){var t,r,s,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,d.hX)(j.asPath)){e.next=4;break}return j.push("/sites/all"),e.abrupt("return");case 4:return e.next=6,(0,h.Sl)((0,h.c0)(j.basePath),j.basePath);case 6:return r=e.sent,e.t0=p,e.next=10,Promise.all([(0,h.CP)(r),(0,d.GJ)(t,j.basePath,P,b,S,w)]);case 10:e.t1=e.sent,s=(0,e.t0)(e.t1,1),u=s[0],_(u),n("loaded");case 15:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function u(e){v(s,r,a,u,c,"next",e)}function c(e){v(s,r,a,u,c,"throw",e)}u(void 0)}))})()}),[t,j.asPath]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Z,{}),(0,s.jsxs)("div",{className:"prose container mx-auto flex flex-row w-screen h-screen",children:["loading"===t&&(0,s.jsx)("h1",{children:"Loading database"}),"loaded"===t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.Z,{className:(0,d.BJ)(x),categories:y,selectCategory:function(e){return j.push("/categories/".concat(e))},selectSite:function(e){return j.push("/sites/".concat(e))}}),(0,s.jsx)(o.Z,{className:(0,d.EH)(x),entries:P,selectBack:function(){return w("categories")},selectSite:function(e){return j.push("/sites/".concat(e))},selectEntry:function(e){return j.push("/entries/".concat(e))}}),(0,s.jsx)(i.Z,{className:(0,d.Dq)(x),content:N,selectBack:function(){return w("entries")}})]})]})]})}}},function(e){e.O(0,[204,19,774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);