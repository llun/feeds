(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[336],{9540:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/404",function(){return s(1024)}])},1024:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(4848),c=s(6715),n=s(6540),l=s(8180),i=s(8472),r=s(5658),o=s(4157),u=s(7472),h=s(6094);function d(){let[e,t]=(0,n.useState)("loading"),[s,d]=(0,n.useState)("categories"),[g,x]=(0,n.useState)([]),[f,p]=(0,n.useState)(null),[_,m]=(0,n.useState)(null),w=(0,c.useRouter)();return(0,n.useEffect)(()=>{(async()=>{let s=(0,h.zS)(w.asPath);if(!s){w.push("/sites/all");return}if("loading"===e){let e=(0,u.c)(w.basePath),[s,a]=await Promise.all([e.getCategories(),e.countAllEntries()]);m(a),x(s),t("loaded")}await (0,h.ip)(s,w.basePath,p,d)})()},[e,w.asPath]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.A,{}),(0,a.jsxs)("div",{className:"prose max-w-none container mx-auto flex flex-row w-screen h-screen",children:["loading"===e&&(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)("strong",{className:"font-serif text-4xl",children:"Loading database"})}),"loaded"===e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.A,{className:(0,h.cx)(s),categories:g,totalEntries:_,selectCategory:e=>w.push("/categories/".concat(e)),selectSite:e=>w.push("/sites/".concat(e))}),(0,a.jsx)(i.A,{className:(0,h._f)(s),basePath:w.basePath,locationState:(0,h.zS)(w.asPath),selectBack:()=>d("categories"),selectSite:e=>w.push("/sites/".concat(e)),selectEntry:(e,t,s)=>w.push("".concat("category"===e?"categories":"sites","/").concat(t,"/entries/").concat(s))}),(0,a.jsx)(l.A,{className:(0,h.W0)(s),content:f,selectBack:()=>{let e=(0,h.zS)(w.asPath);if("entry"!==e.type)return;let{parent:t}=e,{type:s,key:a}=t;w.push("".concat("category"===s?"categories":"sites","/").concat(a))}})]})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[847,267,636,593,792],()=>t(9540)),_N_E=e.O()}]);