(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(5075)}])},5075:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var r=n(8520),s=n.n(r),a=n(5893),c=n(7294),u=n(1163),i=n(5371),o=n(850),l=n(5090),f=n(8217),h=n(8688),d=n(2461);function v(e,t,n,r,s,a,c){try{var u=e[a](c),i=u.value}catch(o){return void n(o)}u.done?t(i):Promise.resolve(i).then(r,s)}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,s=!1,a=void 0;try{for(var c,u=e[Symbol.iterator]();!(r=(c=u.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(i){s=!0,a=i}finally{try{r||null==u.return||u.return()}finally{if(s)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function p(){var e=(0,c.useState)("loading"),t=e[0],n=e[1],r=(0,c.useState)("categories"),p=r[0],m=r[1],w=(0,c.useState)([]),g=w[0],y=w[1],_=(0,c.useState)([]),N=_[0],P=_[1],b=(0,c.useState)(null),E=b[0],S=b[1],j=(0,c.useState)(null),k=j[0],C=j[1],Z=(0,u.useRouter)();return(0,c.useEffect)((function(){var e;(e=s().mark((function e(){var t,r,a,c,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,d.hX)(Z.asPath)){e.next=4;break}return Z.push("/sites/all"),e.abrupt("return");case 4:return e.next=6,(0,h.Sl)((0,h.c0)(Z.basePath),Z.basePath);case 6:return r=e.sent,e.t0=x,e.next=10,Promise.all([(0,h.CP)(r),(0,h.M8)(r),(0,d.GJ)(t,Z.basePath,N,P,S,m)]);case 10:e.t1=e.sent,a=(0,e.t0)(e.t1,2),c=a[0],u=a[1],C(u),y(c),n("loaded");case 17:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,s){var a=e.apply(t,n);function c(e){v(a,r,s,c,u,"next",e)}function u(e){v(a,r,s,c,u,"throw",e)}c(void 0)}))})()}),[t,Z.asPath]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.Z,{}),(0,a.jsxs)("div",{className:"prose max-w-none container mx-auto flex flex-row w-screen h-screen",children:["loading"===t&&(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)("strong",{className:"font-serif text-4xl",children:"Loading database"})}),"loaded"===t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.Z,{className:(0,d.BJ)(p),categories:g,totalEntries:k,selectCategory:function(e){return Z.push("/categories/".concat(e))},selectSite:function(e){return Z.push("/sites/".concat(e))}}),(0,a.jsx)(o.Z,{className:(0,d.EH)(p),entries:N,selectBack:function(){return m("categories")},selectSite:function(e){return Z.push("/sites/".concat(e))},selectEntry:function(e){return Z.push("/entries/".concat(e))}}),(0,a.jsx)(i.Z,{className:(0,d.Dq)(p),content:E,selectBack:function(){return m("entries")}})]})]})]})}}},function(e){e.O(0,[204,19,774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);