(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[197],{6141:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/404",function(){return n(5838)}])},5838:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var a=n(7568),s=n(603),r=n(4051),c=n.n(r),o=n(5893),u=n(7294),i=n(1163),l=n(5371),f=n(850),h=n(5090),d=n(8217),x=n(8688),p=n(2461);function g(){var e=(0,u.useState)("loading"),t=e[0],n=e[1],r=(0,u.useState)("categories"),g=r[0],P=r[1],m=(0,u.useState)([]),_=m[0],b=m[1],w=(0,u.useState)(null),N=w[0],k=w[1],v=(0,u.useState)(null),j=v[0],E=v[1],S=(0,i.useRouter)();return(0,u.useEffect)((function(){(0,a.Z)(c().mark((function e(){var a,r,o,u,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(0,p.hX)(S.asPath)){e.next=4;break}return S.push("/sites/all"),e.abrupt("return");case 4:if("loading"!==t){e.next=18;break}return e.next=7,(0,x.Sl)((0,x.c0)(S.basePath),S.basePath);case 7:return r=e.sent,e.t0=s.Z,e.next=11,Promise.all([(0,x.CP)(r),(0,x.M8)(r)]);case 11:e.t1=e.sent,o=(0,e.t0)(e.t1,2),u=o[0],i=o[1],E(i),b(u),n("loaded");case 18:return e.next=20,(0,p.GJ)(a,S.basePath,k,P);case 20:case"end":return e.stop()}}),e)})))()}),[t,S.asPath]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(h.Z,{}),(0,o.jsxs)("div",{className:"prose max-w-none container mx-auto flex flex-row w-screen h-screen",children:["loading"===t&&(0,o.jsx)("div",{className:"p-6",children:(0,o.jsx)("strong",{className:"font-serif text-4xl",children:"Loading database"})}),"loaded"===t&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d.Z,{className:(0,p.BJ)(g),categories:_,totalEntries:j,selectCategory:function(e){return S.push("/categories/".concat(e))},selectSite:function(e){return S.push("/sites/".concat(e))}}),(0,o.jsx)(f.Z,{className:(0,p.EH)(g),basePath:S.basePath,locationState:(0,p.hX)(S.asPath),selectBack:function(){return P("categories")},selectSite:function(e){return S.push("/sites/".concat(e))},selectEntry:function(e,t,n){return S.push("".concat("category"===e?"categories":"sites","/").concat(t,"/entries/").concat(n))}}),(0,o.jsx)(l.Z,{className:(0,p.Dq)(g),content:N,selectBack:function(){var e=(0,p.hX)(S.asPath);if("entry"===e.type){var t=e.parent,n=t.type,a=t.key;S.push("".concat("category"===n?"categories":"sites","/").concat(a))}}})]})]})]})}}},function(e){e.O(0,[107,19,774,888,179],(function(){return t=6141,e(e.s=t);var t}));var t=e.O();_N_E=t}]);